# 🧾 《AI美食大师》项目需求文档（PRD）

## 一、项目概述

### 1.1 项目名称

**AI美食大师（AI Master Chef）**

### 1.2 项目简介

AI美食大师是一款基于大语言模型的智能菜谱生成平台，用户可通过输入食材、菜系偏好或关键词，快速获得专业菜谱、营养分析、酒水推荐、调味方案与菜品图像。平台结合 AI 技术与中华饮食文化，支持个性化饮食推荐与创意料理生成，帮助用户提升饮食健康与烹饪体验。

### 1.3 开发背景与目标

传统菜谱平台仅能提供静态内容，缺乏灵活交互与个性化推荐。AI美食大师旨在：

* 利用AI生成技术自动化生成菜谱与配图；
* 融合营养健康分析与文化特色；
* 构建用户可控的 AI 模型配置系统；
* 打造多模型接入的开放式美食内容生成平台。

---

## 二、功能需求说明

### 2.1 核心功能模块

| 模块         | 功能描述                     | 用户操作             | 输出结果          |
| ---------- | ------------------------ | ---------------- | ------------- |
| 🧠 智能菜谱生成  | 根据输入的食材、菜系、口味偏好生成详细菜谱    | 用户输入或选择食材与菜系     | AI输出菜名、步骤、食材表 |
| 🧬 营养分析    | 自动分析菜谱的营养成分（如热量、蛋白质、脂肪等） | 菜谱生成后系统自动分析      | 展示营养表与健康评分    |
| 🎨 AI效果图生成 | 根据菜谱生成菜品图像               | 一键生成             | 展示菜品图片        |
| 🍷 酒水推荐    | 根据菜系与口味自动推荐搭配酒水          | 菜谱生成后自动生成推荐      | 推荐饮品及解释说明     |
| 🧂 酱汁设计    | 为菜品定制个性化酱汁配方             | 用户点击“生成酱汁”       | 输出配料比例与制作步骤   |
| 💾 收藏管理    | 保存、浏览和删除收藏的菜谱            | 收藏/取消收藏          | 收藏夹页面展示       |
| 🔮 料理占卜    | 趣味功能，根据今日运势生成“今日之菜”      | 用户点击“占卜”按钮       | 输出随机菜谱及运势说明   |
| ⚙️ 动态配置管理  | 用户可在运行时修改AI模型配置          | 打开设置 → 修改参数 → 保存 | 实时更新AI调用参数    |

---

### 2.2 动态配置系统

| 功能项     | 描述                  |
| ------- | ------------------- |
| 实时配置    | 用户修改模型参数后立即生效       |
| 持久化存储   | 配置信息保存到LocalStorage |
| 模型独立管理  | 文本生成与图片生成模型可分离配置    |
| API连接验证 | 可测试API密钥与连接有效性      |
| 一键恢复默认  | 恢复至.env默认配置         |

**支持配置项：**

* 文本生成模型：`base_url`, `api_key`, `model`, `temperature`, `timeout`
* 图片生成模型：`base_url`, `api_key`, `model`

---

### 2.3 AI生成逻辑

| 模块             | AI调用方式                            | 说明                              |
| -------------- | --------------------------------- | ------------------------------- |
| 文本生成（菜谱、酱汁、酒水） | 使用 `VITE_TEXT_GENERATION_*` 环境变量  | 基于 302.AI 提供的 OpenAI 兼容接口       |
| 图片生成（菜品图）      | 使用 `VITE_IMAGE_GENERATION_*` 环境变量 | 支持多厂商API（智谱、302AI等）             |
| 模型切换           | 实时配置切换                            | 通过 `settings.js` 管理状态并调用 API 工具 |

---

## 三、系统架构设计

### 3.1 技术栈

* **前端框架：** Vue 3.4 + Composition API + TypeScript 5.3+
* **样式框架：** Tailwind CSS 3.4+
* **构建工具：** Vite 5.0+
* **AI 服务商：** 302.AI（主），智谱AI（图片）
* **部署平台：** Vercel + Netlify

### 3.2 系统结构图

```
用户界面 (Vue)
     │
     ├── AI服务层 (services/)
     │     ├── aiService.ts (菜谱生成)
     │     ├── imageService.ts (图片生成)
     │     └── favoriteService.ts (收藏)
     │
     ├── 配置管理 (stores/settings.js)
     │     └── 动态AI配置与状态管理
     │
     ├── 工具函数 (utils/apiConfig.js)
     │     └── 统一API请求封装
     │
     └── 数据展示层 (views/, components/)
           ├── RecipeCard.vue
           ├── NutritionAnalysis.vue
           ├── SettingsModal.vue
```

---

## 四、非功能需求

| 类别   | 需求描述                               |
| ---- | ---------------------------------- |
| 性能   | 页面加载时间 < 2s，AI请求响应时间 < 5s（正常网络下）   |
| 安全性  | API密钥加密存储，本地仅保存必要配置                |
| 可扩展性 | 支持增加新的AI服务商和模型                     |
| 可维护性 | 模块化结构，便于后续升级                       |
| 可用性  | 界面交互简洁清晰，支持中英文切换                   |
| 兼容性  | 兼容 Chrome、Edge、Safari、Firefox 最新版本 |
| 部署要求 | 支持一键部署至 Vercel 或 Netlify           |

---

## 五、用户交互流程（示例）

### 5.1 智能菜谱生成流程

```
输入食材/菜系 → 点击生成 → 调用AI生成菜谱 → 返回菜名/步骤/营养 → 生成图片 → 显示菜谱卡片
```

### 5.2 动态配置流程

```
点击 ⚙️ → 打开设置面板 → 输入API Key/模型名 → 点击保存 → 实时更新 → 可点击“测试配置”验证连接
```

### 5.3 收藏菜谱流程

```
浏览菜谱 → 点击 ❤️ 收藏 → 自动保存至LocalStorage → 可在收藏页查看/删除
```

---

## 六、接口与环境变量说明

| 环境变量                               | 说明          |
| ---------------------------------- | ----------- |
| `VITE_TEXT_GENERATION_BASE_URL`    | 文本生成API地址   |
| `VITE_TEXT_GENERATION_API_KEY`     | 文本生成API密钥   |
| `VITE_TEXT_GENERATION_MODEL`       | 文本生成模型名称    |
| `VITE_TEXT_GENERATION_TEMPERATURE` | 创造性参数 (0-1) |
| `VITE_TEXT_GENERATION_TIMEOUT`     | 请求超时时间 (ms) |
| `VITE_IMAGE_GENERATION_BASE_URL`   | 图片生成API地址   |
| `VITE_IMAGE_GENERATION_API_KEY`    | 图片生成API密钥   |
| `VITE_IMAGE_GENERATION_MODEL`      | 图片生成模型名称    |

---

## 七、未来扩展方向

| 方向         | 描述               |
| ---------- | ---------------- |
| 🌍 多语言支持   | 增加菜谱多语言翻译与国际料理推荐 |
| 🧑‍🍳 用户社区 | 用户可上传自制菜谱并AI优化   |
| 📱 移动端适配   | 提供小程序和PWA版本      |
| 🍽️ 营养管理   | 结合用户健康数据实现个性化推荐  |
| 🧾 数据统计    | 提供菜谱浏览热度与用户偏好分析  |
| 🤖 AI助理    | 增强对话式烹饪指导（语音交互）  |

---
